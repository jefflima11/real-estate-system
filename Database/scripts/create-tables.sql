CREATE TABLE BANCO(
	CD_BANCO INT PRIMARY KEY,
	NM_BANCO VARCHAR(255)
);


CREATE TABLE DADO_BANCARIOS(
	CD_DADOS_BANCARIOS INT PRIMARY KEY,
	CD_CLIENTE INT NOT NULL,
	CD_BANCO INT,
	AGENCIA VARCHAR(50),
	CONTA VARCHAR(50),
	PIX VARCHAR(50),
	CONSTRAINT FK_BANCO_DADOS_BANCARIOS FOREIGN KEY (CD_BANCO) 
		REFERENCES BANCO(CD_BANCO)
);

CREATE TABLE PAIS(
	CD_PAIS INT PRIMARY KEY,
	NM_PAIS NVARCHAR NOT NULL
);

CREATE TABLE ESTADO(
	CD_ESTADO INT PRIMARY KEY,
	NM_ESTADO NVARCHAR NOT NULL,
	CD_PAIS INT NOT NULL,
	CONSTRAINT FK_ESTADO_PAIS FOREIGN KEY(CD_PAIS) 
		REFERENCES PAIS(CD_PAIS)
);

CREATE TABLE CIDADE(
	CD_CIDADE INT PRIMARY KEY,
	NM_CIDADE NVARCHAR NOT NULL,
);

CREATE TABLE BAIRRO(
	CD_BAIRRO INT PRIMARY KEY,
	NM_BAIRRO NVARCHAR NOT NULL
);

CREATE TABLE RUA(
	CD_RUA INT PRIMARY KEY,
	NM_RUA NVARCHAR NOT NULL
);

CREATE TABLE VAL_CONT(
	CD_VALOR_CONTRATO INT PRIMARY KEY,
	CD_CONTRATO INT NOT NULL,
	VL_CONTRATO INT NOT NULL,
	DS_VALOR NVARCHAR NOT NULL,
	DT_INICIO_VIGENCIA_VALOR DATE NOT NULL,
	DT_FIM_VIGENCIA_VALOR DATE NOT NULL
);

CREATE TABLE CON_PAG(
	CD_CON_PAG INT PRIMARY KEY,
	DS_CON_PAG VARCHAR(255) NOT NULL,
	CD_CONTRATO INT NOT NULL,
	VL_PAGAR MONEY NOT NULL,
	DT_PAGAMENTO DATETIME NOT NULL,
	CD_AGENTE INT NOT NULL,
	DT_REGISTRO DATETIME NOT NULL
);

CREATE TABLE CON_REC(
	CD_CON_REC INT PRIMARY KEY,
	DS_CON_REC VARCHAR(255) NOT NULL,
	CD_CONTRATO INT NOT NULL,
	VL_RECEBER MONEY NOT NULL,
	DT_RECEBIMENTO DATETIME NOT NULL,
	CD_AGENTE INT NOT NULL,
	DT_REGISTRO DATE
);

CREATE TABLE CONTRATOS(
	CD_CONTRATO INT PRIMARY KEY,
	DS_CONTRATO VARCHAR(255) NOT NULL,
	TP_CONTRATO VARCHAR(1) NOT NULL,
	CD_CONTRATANTE INT NOT NULL,
	CD_LOCATARIO INT NOT NULL,
	CD_AGENTE INT NOT NULL,
	DT_REGISTRO_CONTRATO DATETIME NOT NULL,
	DT_INICIO_CONTRATO DATE NOT NULL,
	DT_FIM_CONTRATO DATE NOT NULL,
	DT_VENCIMENTO_CONTRATO DATE NOT NULL
	CONSTRAINT FK_CONTRATOS_VALOR_CONTRATOS FOREIGN KEY(CD_CONTRATO)
		REFERENCES VAL_CONT (CD_VALOR_CONTRATO)
);

ALTER TABLE CON_PAG
ADD CONSTRAINT FK_CON_PAG_CONT FOREIGN KEY (CD_CONTRATO)
REFERENCES CONTRATOS (CD_CONTRATO);

ALTER TABLE CON_REC
ADD CONSTRAINT FK_CON_REC_CONT FOREIGN KEY (CD_CONTRATO)
REFERENCES CONTRATOS (CD_CONTRATO);

